<?php
$shop_title	= "미용 추가옵션 등록/수정";
include($_SERVER['DOCUMENT_ROOT']."/include/global.php");
include($_SERVER['DOCUMENT_ROOT']."/include/skin/header_shop.php");
include($_SERVER['DOCUMENT_ROOT']."/include/check_login_shop.php");


$backurl = $_GET['backurl'];
$user_id = $_SESSION['gobeauty_user_id'];
$user_name = $_SESSION['gobeauty_user_nickname'];

$first_type = $_REQUEST['first_type'];
$second_type = $_REQUEST['second_type'];
if (!$second_type) {
    $second_type = '추가공통옵션';
}

$data = array();
$sql = "
	SELECT *
	FROM tb_shop
	WHERE customer_id = '".$user_id."'		
";
$result = mysqli_query($connection,$sql);
$shop_cnt = mysqli_num_rows($result);
$data['shop'] = mysqli_fetch_assoc($result);

if($shop_cnt <= 0){
    ?>
    <script>
        $.MessageBox({
            buttonDone: "확인",
            message: "잘못된 접근입니다. 메인페이지로 이동합니다."
        }).done(function() {
            location.href = "<?= $mainpage_directory ?>/index.php";
        });
    </script>
    <?php
}

$is_offline = 0;
$crypto = new Crypto();
$enc_artist_id = $crypto->encode(trim($user_id), $access_key, $secret_key);
$sql = "
	SELECT * 
	FROM tb_request_artist 
	WHERE customer_id = '" . $enc_artist_id . "'
";
$result = mysqli_query($connection,$sql);
while($row = mysqli_fetch_assoc($result)) {
    $data['request_artist'] = $row;
    $is_offline = ($row['is_got_offline_shop'] == NULL) ? 0 : $row['is_got_offline_shop'];
}

// 오프라인 매장 여부 - 쿠폰, 정액제 사용 구분
$crypto = new Crypto();
$enc_user_id = $crypto->encode($user_id, $access_key, $secret_key);
$sql = "
	SELECT is_got_offline_shop 
	FROM tb_request_artist 
	WHERE customer_id = '".$enc_user_id."'
";
$result = mysqli_query($connection,$sql);
$row = mysqli_fetch_assoc($result);
$is_got_offline_shop = $row['is_got_offline_shop'];

// 기본 요금제 호출 - 강아지
$sql = "
	SELECT * 
	FROM tb_product_dog_common
	WHERE customer_id = '".$user_id."'
";
//echo $sql;
$result = mysqli_query($connection,$sql);
while($row = mysqli_fetch_assoc($result)){
    $data["product_dog_common"][] = $row;
}
//print_r($data["product_dog_common"]);

//목욕 옵션
$query = "SELECT * FROM tb_product_common_option WHERE customer_id = '".$user_id."' AND type = '목욕'";
$result = mysqli_query($query);
while ($row = mysqli_fetch_object($result)) {
    $data['bath_option_list'][] = $row;
    $data['bath_option_list_data'] .= $row->title.":".$row->price.",";
}
$data['bath_option_list_data'] = substr($data['bath_option_list_data'], 0, -1);

?>

<!-- container -->
<section id="container"> 
	<!-- page-body -->
    <form action="./data/save_beauty_option_add" name="f" method="post">
        <input type="hidden" name="type" value="dog_service_type">
        <input type="hidden" name="backurl" value="<?php echo $backurl;?>">
	<div class="page-body">

		<!-- set-option-add -->  
		<div class="set-option-add">
			<div class="basic-data-group">
				<div class="con-title-group">
					<h4 class="con-title">상품분류</h4>
				</div>
				<div class="basic-data-group vvsmall2">
					<div class="wide-tab">
						<div class="wide-tab-inner">
							<!-- 활성화시 actived클래스 추가 -->
							<div class="tab-cell actived"><a href="#" class="btn-tab-item">강아지</a></div>
							<div class="tab-cell"><a href="./set_beauty_option_add2?backurl=<?php echo $backurl;?>" class="btn-tab-item">고양이</a></div>
						</div>
					</div>
					<div class="basic-data-group vmiddle">
						<div class="form-group">
							<div class="form-group-cell middle">
								<div class="form-group-item">
									<div class="form-item-label">제공방식</div>
									<div class="form-item-data type-2">
										<div class="grid-layout toggle-button-group">
											<div class="grid-layout-inner">
                                                <div class="grid-layout-cell grid-3">
                                                    <label class="form-toggle-box middle">
                                                        <input type="radio" name="offer" value="01" <?php echo (($data['product_dog_common'][0]['in_shop_product']=='0' && $data['product_dog_common'][0]['out_shop_product']=='1') || !isset($data['product_dog_common'][0]['in_shop_product']) )?'checked':''; ?>><em>매장상품</em>
                                                    </label>
                                                </div>
                                                <div class="grid-layout-cell grid-3">
                                                    <label class="form-toggle-box middle">
                                                        <input type="radio" name="offer" value="10" <?php echo ($data['product_dog_common'][0]['in_shop_product']=='1' && $data['product_dog_common'][0]['out_shop_product']=='0')?'checked':''; ?>><em>출장상품</em>
                                                    </label>
                                                </div>
                                                <div class="grid-layout-cell grid-3">
                                                    <label class="form-toggle-box middle">
                                                        <input type="radio" name="offer" value="11" <?php echo ($data['product_dog_common'][0]['in_shop_product']=='1' && $data['product_dog_common'][0]['out_shop_product']=='1')?'checked':''; ?>><em>출장/매장</em>
                                                    </label>
                                                </div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="basic-data-group">
						<div class="con-title-group">
							<h4 class="con-title">얼굴 디자인컷 추가</h4>
						</div>
						<div class="basic-data-group vvsmall3">
							<div class="form-vertical-group">
								<div class="form-vertical-header">
									<div class="grid-layout basic">
										<div class="grid-layout-inner flex-nowrap">
											<div class="grid-layout-cell flex-auto w-px-55"><div class="form-item-label"></div></div>
											<div class="grid-layout-cell flex-1"><div class="form-item-label">상품명</div></div>
											<div class="grid-layout-cell flex-1"><div class="form-item-label">가격(단위:원)</div></div>
											<div class="grid-layout-cell flex-auto w-px-55"><div class="form-item-label">삭제</div></div>
										</div>
									</div>
								</div>
								<div class="form-vertical-body drag-sort-wrap" id="sample1">
									<div class="form-vertical-cell">
										<div class="grid-layout basic">
											<div class="grid-layout-inner flex-nowrap">
												<div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-handler">드래그바</button></div>
												<div class="grid-layout-cell flex-1"><input type="text" value="기본 얼굴컷" disabled placeholder="입력"></div>
												<div class="grid-layout-cell flex-1">
                                                    <select name="p_basic_face_price" id="p_basic_face_price">
                                                        <option value="" <?= ($data["product_dog_common"][0]["basic_face_price"] == "" || $data["product_dog_common"][0]["basic_face_price"] == null) ? "selected" : "" ?>>선택안함</option>
                                                        <?php
                                                        for ($pi = 0; $pi < 150001; $pi = $pi + 500) {
                                                            echo "<option value='" . $pi . "'";
                                                            if ($data["product_dog_common"][0]["basic_face_price"] != "" && $pi == intval($data["product_dog_common"][0]["basic_face_price"])) {
                                                                echo " selected";
                                                            }
                                                            echo ">" . $pi . "</option>";
                                                        }
                                                        ?>
                                                    </select>
												</div>
												<div class="grid-layout-cell flex-auto w-px-55"></div>
											</div>
										</div>
									</div>
									<div class="form-vertical-cell">
										<div class="grid-layout basic">
											<div class="grid-layout-inner flex-nowrap">
												<div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-handler">드래그바</button></div>
												<div class="grid-layout-cell flex-1"><input type="text" value="브로컬리컷" disabled placeholder="입력"></div>
												<div class="grid-layout-cell flex-1">
                                                    <select name="p_broccoli_price" id="p_broccoli_price">
                                                        <option value="" <?= ($data["product_dog_common"][0]["broccoli_price"] == "" || $data["product_dog_common"][0]["broccoli_price"] == null) ? "selected" : "" ?>>선택안함</option>
                                                        <?php
                                                        for ($pi = 0; $pi < 150001; $pi = $pi + 500) {
                                                            echo "<option value='" . $pi . "'";
                                                            if ($data["product_dog_common"][0]["broccoli_price"] != "" && $pi == intval($data["product_dog_common"][0]["broccoli_price"])) {
                                                                echo " selected";
                                                            }
                                                            echo ">" . $pi . "</option>";
                                                        }
                                                        ?>
                                                    </select>
												</div>
												<div class="grid-layout-cell flex-auto w-px-55"></div>
											</div>
										</div>
									</div>
									<div class="form-vertical-cell">
										<div class="grid-layout basic">
											<div class="grid-layout-inner flex-nowrap">
												<div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-handler">드래그바</button></div>
												<div class="grid-layout-cell flex-1"><input type="text" value="하이바컷" disabled placeholder="입력"></div>
												<div class="grid-layout-cell flex-1">
                                                    <select name="p_highba_price" id="p_highba_price">
                                                        <option value="" <?= ($data["product_dog_common"][0]["highba_price"] == "" || $data["product_dog_common"][0]["highba_price"] == null) ? "selected" : "" ?>>선택안함</option>
                                                        <?php
                                                        for ($pi = 0; $pi < 150001; $pi = $pi + 500) {
                                                            echo "<option value='" . $pi . "'";
                                                            if ($data["product_dog_common"][0]["highba_price"] != "" && $pi == intval($data["product_dog_common"][0]["highba_price"])) {
                                                                echo " selected";
                                                            }
                                                            echo ">" . $pi . "</option>";
                                                        }
                                                        ?>
                                                    </select>
												</div>
												<div class="grid-layout-cell flex-auto w-px-55"></div>
											</div>
										</div>
									</div>
									<div class="form-vertical-cell">
										<div class="grid-layout basic">
											<div class="grid-layout-inner flex-nowrap">
												<div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-handler">드래그바</button></div>
												<div class="grid-layout-cell flex-1"><input type="text" value="곰돌이컷" disabled placeholder="입력"></div>
												<div class="grid-layout-cell flex-1">
                                                    <select name="p_bear_price" id="p_bear_price">
                                                        <option value="" <?= ($data["product_dog_common"][0]["bear_price"] == "" || $data["product_dog_common"][0]["bear_price"] == null) ? "selected" : "" ?>>선택안함</option>
                                                        <?php
                                                        for ($pi = 0; $pi < 150001; $pi = $pi + 500) {
                                                            echo "<option value='" . $pi . "'";
                                                            if ($data["product_dog_common"][0]["bear_price"] != "" && $pi == intval($data["product_dog_common"][0]["bear_price"])) {
                                                                echo " selected";
                                                            }
                                                            echo ">" . $pi . "</option>";
                                                        }
                                                        ?>
                                                    </select>
												</div>
												<div class="grid-layout-cell flex-auto w-px-55"></div>
											</div>
										</div>
									</div>
                                    <!-- 추가 타입 -->

                                    <?php
                                        $tmp = explode(",",$data["product_dog_common"][0]['addition_face_product']);

                                        for($a=0;$a<count($tmp);$a++){
                                            $face_tmp = explode(":",$tmp[$a]);
                                            $face['text'][] = $face_tmp[0];
                                            $face['price'][] = $face_tmp[1];

                                    ?>
                                    <div class="form-vertical-cell">
                                        <div class="grid-layout basic">
                                            <div class="grid-layout-inner flex-nowrap">
                                                <div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-handler">드래그바</button></div>
                                                <div class="grid-layout-cell flex-1"><input type="text" name="face_add[]" value="<?php echo $face['text'][$a];?>" placeholder="입력"></div>
                                                <div class="grid-layout-cell flex-1">
                                                    <select name="p_fave_price[]" >
                                                        <option value="">선택안함</option>
                                                        <?php
                                                        for ($pi = 0; $pi < 150001; $pi = $pi + 500) {
                                                            echo "<option value='" . $pi . "'";
                                                            if ($pi == $face['price'][$a] && !empty($face['price'][$a])) {
                                                                echo " selected";
                                                            }
                                                            echo ">" . $pi . "</option>";
                                                        }
                                                        ?>
                                                    </select>
                                                </div>
                                                <div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-trash">휴지통</button></div>
                                            </div>
                                        </div>
                                    </div>
                                    <?php } ?>


                                    <!-- //추가 타입 -->
								</div>
							</div>
						</div>
						<div class="btn-basic-action">
							<button type="button" class="btn btn-outline-purple btn-middle-size btn-round" onclick="sampleAdd();">추가하기</button>
						</div>


					</div>
					<div class="basic-data-group">
						<div class="con-title-group">
							<h4 class="con-title">미용 털길이 조절 추가</h4>
						</div>
						<div class="basic-data-group vvsmall3">
							<div class="form-vertical-group">
								<div class="form-vertical-header">
									<div class="grid-layout basic">
										<div class="grid-layout-inner flex-nowrap">
											<div class="grid-layout-cell flex-auto w-px-55"><div class="form-item-label"></div></div>
											<div class="grid-layout-cell flex-1"><div class="form-item-label">길이선택</div></div>
											<div class="grid-layout-cell flex-1"><div class="form-item-label">가격(단위:원)</div></div>
											<div class="grid-layout-cell flex-auto w-px-55"><div class="form-item-label">삭제</div></div>
										</div>
									</div>
								</div>
								<div class="form-vertical-body drag-sort-wrap hair-add-div-start">
									<!-- 추가 타입 -->

									<!-- //추가 타입 -->
                                    <?php
                                    unset($tmp);
                                    $tmp = explode(",",$data["product_dog_common"][0]['hair_length_product']);
                                    for($a=0;$a<count($tmp);$a++){
                                    $hair_tmp = explode(":",$tmp[$a]);
                                    $hair['text'][] = $hair_tmp[0];
                                    $hair['price'][] = $hair_tmp[1];


                                    ?>
                                    <div class="form-vertical-cell face-cell">
                                        <div class="grid-layout basic">
                                            <div class="grid-layout-inner flex-nowrap">
                                                <div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-handler">드래그바</button></div>
                                                <div class="grid-layout-cell flex-1">
                                                    <select name="p_beauty_length[]">
                                                        <option value="">선택안함</option>
                                                        <?php
                                                        for ($pi = 0; $pi < 30; $pi++) {
                                                            echo "<option value='" . $pi . "'";
                                                            if ($pi == $hair['text'][$a] && !empty($hair['text'][$a])) {
                                                                echo " selected";
                                                            }
                                                            echo ">" . $pi . "</option>";
                                                        }
                                                        ?>
                                                    </select>
                                                </div>
                                                <div class="grid-layout-cell flex-1">
                                                    <select name="p_beauty_length_price[]">
                                                        <option value="">선택안함</option>
                                                        <?php
                                                        for ($pi = 0; $pi < 150001; $pi = $pi + 500) {
                                                            echo "<option value='" . $pi . "'";
                                                            if ($pi == $hair['price'][$a] && !empty($hair['price'][$a])) {
                                                                echo " selected";
                                                            }
                                                            echo ">" . $pi . "</option>";
                                                        }
                                                        ?>
                                                    </select>
                                                </div>
                                                <div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-trash">휴지통</button></div>
                                            </div>
                                        </div>
                                    </div>
                                    <?php } ?>
								</div>
							</div>
						</div>
						<div class="btn-basic-action">
							<button type="button" class="btn btn-outline-purple btn-middle-size btn-round beauty-area-add">추가하기</button>
						</div>
						<div class="form-bottom-info">*mm칸을 선택하지 않으시고 저장하시면 해당칸은 사용하지 않게 됩니다.</div>

                        <div id="hair_length" style="display:none">
                            <div class="form-vertical-cell face-cell">
                                <div class="grid-layout basic">
                                    <div class="grid-layout-inner flex-nowrap">
                                        <div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-handler">드래그바</button></div>
                                        <div class="grid-layout-cell flex-1">
                                            <select name="p_beauty_length[]">
                                                <option value="">선택안함</option>
                                                <?php
                                                for ($pi = 0; $pi < 30; $pi++) {
                                                    echo "<option value='" . $pi . "'";

                                                    echo ">" . $pi . "</option>";
                                                }
                                                ?>
                                            </select>
                                        </div>
                                        <div class="grid-layout-cell flex-1">
                                            <select name="p_beauty_length_price[]">
                                                <option value="">선택안함</option>
                                                <?php
                                                for ($pi = 0; $pi < 150001; $pi = $pi + 500) {
                                                    echo "<option value='" . $pi . "'";
                                                    if ($pi == intval($data["product_dog_common"][0]["beauty_length_1_price"])) {
                                                        //echo " selected";
                                                    }
                                                    echo ">" . $pi . "</option>";
                                                }
                                                ?>
                                            </select>
                                        </div>
                                        <div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-trash">휴지통</button></div>
                                    </div>
                                </div>
                            </div>
                        </div>
					</div>
					<div class="basic-data-group">
						<div class="con-title-group">
							<h4 class="con-title">털 특징별 추가요금</h4>
						</div>						
						<div class="basic-data-group vvsmall3">
							<div class="form-vertical-group">
								<div class="form-vertical-header">
									<div class="grid-layout basic">
										<div class="grid-layout-inner flex-nowrap">
											<div class="grid-layout-cell flex-auto w-px-55"><div class="form-item-label"></div></div>
											<div class="grid-layout-cell flex-1"><div class="form-item-label">상품명</div></div>
											<div class="grid-layout-cell flex-1"><div class="form-item-label">가격(단위:원)</div></div>
											<div class="grid-layout-cell flex-auto w-px-55"><div class="form-item-label">삭제</div></div>
										</div>
									</div>
								</div>
								<div class="form-vertical-body drag-sort-wrap double-hair-start">
									<div class="form-vertical-cell">
										<div class="grid-layout basic">
											<div class="grid-layout-inner flex-nowrap">
												<div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-handler">드래그바</button></div>
												<div class="grid-layout-cell flex-1"><input type="text" value="단모_목욕" disabled placeholder="입력"></div>
												<div class="grid-layout-cell flex-1">
                                                    <select name="p_short_hair_price" id="p_short_hair_price">
                                                        <option value="">선택안함</option>
                                                        <?php
                                                        for ($pi = 0; $pi < 150001; $pi = $pi + 500) {
                                                            echo "<option value='" . $pi . "'";
                                                            if ($data["product_dog_common"][0]["short_hair_price"] == $pi && !empty($data["product_dog_common"][0]["short_hair_price"])) {
                                                                echo " selected";
                                                            }
                                                            echo ">" . $pi . "</option>";
                                                        }
                                                        ?>
                                                    </select>
												</div>
												<div class="grid-layout-cell flex-auto w-px-55"></div>
											</div>
										</div>
									</div>
									<div class="form-vertical-cell">
										<div class="grid-layout basic">
											<div class="grid-layout-inner flex-nowrap">
												<div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-handler">드래그바</button></div>
												<div class="grid-layout-cell flex-1"><input type="text" value="장모_목욕" disabled placeholder="입력"></div>
												<div class="grid-layout-cell flex-1">
                                                    <select name="p_long_hair_price" id="p_long_hair_price">
                                                        <option value="">선택안함</option>
                                                        <?php
                                                        for ($pi = 0; $pi < 150001; $pi = $pi + 500) {
                                                            echo "<option value='" . $pi . "'";
                                                            if ($data["product_dog_common"][0]["long_hair_price"] == $pi && !empty($data["product_dog_common"][0]["long_hair_price"])) {
                                                                echo " selected";
                                                            }
                                                            echo ">" . $pi . "</option>";
                                                        }
                                                        ?>
                                                    </select>
												</div>
												<div class="grid-layout-cell flex-auto w-px-55"></div>
											</div>
										</div>
									</div>
									<div class="form-vertical-cell">
										<div class="grid-layout basic">
											<div class="grid-layout-inner flex-nowrap">
												<div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-handler">드래그바</button></div>
												<div class="grid-layout-cell flex-1"><input type="text" value="이중모_목욕" disabled placeholder="입력"></div>
												<div class="grid-layout-cell flex-1">
                                                    <select name="p_double_hair_price" id="p_double_hair_price">
                                                        <option value="">선택안함</option>
                                                        <?php
                                                        for ($pi = 0; $pi < 150001; $pi = $pi + 500) {
                                                            echo "<option value='" . $pi . "'";
                                                            if ($pi == $data["product_dog_common"][0]["double_hair_price"] && !empty($data["product_dog_common"][0]["double_hair_price"])) {
                                                                echo " selected";
                                                            }
                                                            echo ">" . $pi . "</option>";
                                                        }
                                                        ?>
                                                    </select>
												</div>
												<div class="grid-layout-cell flex-auto w-px-55"></div>
											</div>
										</div>
									</div>
									<!-- 추가 타입 -->
                                    <?php
                                    $sql = "SELECT * FROM tb_product_common_option WHERE customer_id = '{$user_id}' AND type = '목욕' ";
                                    $res1 = mysqli_query($connection, $sql);
                                    while($rs = mysqli_fetch_array($res1)){
                                    ?>
                                        <div class="form-vertical-cell double-cell">
                                            <div class="grid-layout basic">
                                                <div class="grid-layout-inner flex-nowrap">
                                                    <div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-handler">드래그바</button></div>
                                                    <div class="grid-layout-cell flex-1"><input type="text" name="double_hair[]" value="<?php echo $rs['title'];?>" placeholder="입력"></div>
                                                    <div class="grid-layout-cell flex-1">
                                                        <select name="double_hair_price[]">
                                                            <option value="">선택안함</option>
                                                            <?php
                                                            for ($pi = 0; $pi < 150001; $pi = $pi + 500) {
                                                                echo "<option value='" . $pi . "'";
                                                                if ($rs['price'] == $pi) {
                                                                    echo " selected";
                                                                }
                                                                echo ">" . $pi . "</option>";
                                                            }
                                                            ?>
                                                        </select>
                                                    </div>
                                                    <div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-trash">휴지통</button></div>
                                                </div>
                                            </div>
                                        </div>
                                    <?php } ?>
									<!-- //추가 타입 -->
								</div>
							</div>
						</div>
						<div class="btn-basic-action">
							<button type="button" class="btn btn-outline-purple btn-middle-size btn-round btn-double-add">추가하기</button>
						</div>
                        <div id="double_add" style="display:none">
                            <div class="form-vertical-cell double-cell">
                                <div class="grid-layout basic">
                                    <div class="grid-layout-inner flex-nowrap">
                                        <div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-handler">드래그바</button></div>
                                        <div class="grid-layout-cell flex-1"><input type="text" name="double_hair[]" placeholder="입력"></div>
                                        <div class="grid-layout-cell flex-1">
                                            <select name="double_hair_price[]">
                                                <option value="">선택안함</option>
                                                <?php
                                                for ($pi = 0; $pi < 150001; $pi = $pi + 500) {
                                                    echo "<option value='" . $pi . "'";
                                                    if ($data["product_dog_common"][0]["ferocity_price"] == $pi) {
                                                        //echo " selected";
                                                    }
                                                    echo ">" . $pi . "</option>";
                                                }
                                                ?>
                                            </select>
                                        </div>
                                        <div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-trash">휴지통</button></div>
                                    </div>
                                </div>
                            </div>
                        </div>
					</div>
					<div class="basic-data-group">
						<div class="con-title-group">
							<h4 class="con-title">현장판단 후 현장결제 추가 기능 옵션</h4>
						</div>					
						<div class="basic-data-group vvsmall3">
							<div class="form-vertical-group">
								<div class="form-vertical-header">
									<div class="grid-layout basic">
										<div class="grid-layout-inner flex-nowrap">
											<div class="grid-layout-cell flex-auto w-px-55"><div class="form-item-label"></div></div>
											<div class="grid-layout-cell flex-1"><div class="form-item-label">상품명</div></div>
											<div class="grid-layout-cell flex-1"><div class="form-item-label">가격(단위:원)</div></div>
											<div class="grid-layout-cell flex-auto w-px-55"><div class="form-item-label">삭제</div></div>
										</div>
									</div>
								</div>
								<div class="form-vertical-body drag-sort-wrap out-add">
									<div class="form-vertical-cell">
										<div class="grid-layout basic">
											<div class="grid-layout-inner flex-nowrap">
												<div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-handler">드래그바</button></div>
												<div class="grid-layout-cell flex-1"><input type="text" value="털엉킴" disabled placeholder="입력"></div>
												<div class="grid-layout-cell flex-1">
                                                    <select name="p_hair_clot_price" id="p_hair_clot_price">
                                                        <option value="">선택안함</option>
                                                        <?php
                                                        for ($pi = 0; $pi < 150001; $pi = $pi + 500) { // [change] 2019.01.08 : developlay - 50000으로 늘림
                                                            echo "<option value='" . $pi . "'";
                                                            if ($pi == $data["product_dog_common"][0]["hair_clot_price"] && !empty($data["product_dog_common"][0]["hair_clot_price"])) {
                                                                echo " selected";
                                                            }
                                                            echo ">" . $pi . "</option>";
                                                        }
                                                        ?>
                                                    </select>
												</div>
												<div class="grid-layout-cell flex-auto w-px-55"></div>
											</div>
										</div>
									</div>
									<div class="form-vertical-cell">
										<div class="grid-layout basic">
											<div class="grid-layout-inner flex-nowrap">
												<div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-handler">드래그바</button></div>
												<div class="grid-layout-cell flex-1"><input type="text" value="사나움" disabled placeholder="입력"></div>
												<div class="grid-layout-cell flex-1">
                                                    <select name="p_ferocity_price" id="p_ferocity_price">
                                                        <option value="">선택안함</option>
                                                        <?php
                                                        for ($pi = 0; $pi < 150001; $pi = $pi + 500) { // [change] 2019.01.08 : developlay - 50000으로 늘림
                                                            echo "<option value='" . $pi . "'";
                                                            if ($pi == $data["product_dog_common"][0]["ferocity_price"] && !empty($data["product_dog_common"][0]["ferocity_price"])) {
                                                                echo " selected";
                                                            }
                                                            echo ">" . $pi . "</option>";
                                                        }
                                                        ?>
                                                    </select>
												</div>
												<div class="grid-layout-cell flex-auto w-px-55"></div>
											</div>
										</div>
									</div>
									<div class="form-vertical-cell">
										<div class="grid-layout basic">
											<div class="grid-layout-inner flex-nowrap">
												<div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-handler">드래그바</button></div>
												<div class="grid-layout-cell flex-1"><input type="text" value="진드기" disabled placeholder="입력"></div>
												<div class="grid-layout-cell flex-1">
                                                    <select name="p_tick_price" id="p_tick_price">
                                                        <option value="">선택안함</option>
                                                        <?php
                                                        for ($pi = 0; $pi < 150001; $pi = $pi + 500) { // [change] 2019.01.08 : developlay - 50000으로 늘림
                                                            echo "<option value='" . $pi . "'";
                                                            if ($pi == $data["product_dog_common"][0]["tick_price"] && !empty($data["product_dog_common"][0]["tick_price"])) {
                                                                echo " selected";
                                                            }
                                                            echo ">" . $pi . "</option>";
                                                        }
                                                        ?>
                                                    </select>
												</div>
												<div class="grid-layout-cell flex-auto w-px-55"></div>
											</div>
										</div>
									</div>
									<!-- 추가 타입 -->
                                    <?php
                                    $tmp = explode(",",$data["product_dog_common"][0]['addition_work_product']);
                                    for($a=0;$a<count($tmp);$a++){
                                    $work_tmp = explode(":",$tmp[$a]);
                                    $work['text'][] = $work_tmp[0];
                                    $work['price'][] = $work_tmp[1];

                                    ?>
                                        <div class="form-vertical-cell out-cell" >
                                            <div class="grid-layout basic">
                                                <div class="grid-layout-inner flex-nowrap">
                                                    <div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-handler">드래그바</button></div>
                                                    <div class="grid-layout-cell flex-1"><input type="text" name="out_text[]" value="<?php echo $work['text'][$a];?>" placeholder="입력"></div>
                                                    <div class="grid-layout-cell flex-1">
                                                        <select name="out_price[]">
                                                            <option value="" >선택안함</option>
                                                            <?php
                                                            for ($pi = 0; $pi < 150001; $pi = $pi + 500) { // [change] 2019.01.08 : developlay - 50000으로 늘림
                                                                echo "<option value='" . $pi . "'";
                                                                if ($pi == $work['price'][$a] && !empty($work['price'][$a])) {
                                                                    echo " selected";
                                                                }
                                                                echo ">" . $pi . "</option>";
                                                            }
                                                            ?>
                                                        </select>
                                                    </div>
                                                    <div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-trash">휴지통</button></div>
                                                </div>
                                            </div>
                                        </div>
                                    <?php } ?>
									<!-- //추가 타입 -->
								</div>
							</div>
						</div>
						<div class="btn-basic-action">
							<button type="button" class="btn btn-outline-purple btn-middle-size btn-round save-out-btn">추가하기</button>
						</div>

                        <div id="out_add" style="display:none">
                            <div class="form-vertical-cell out-cell" >
                                <div class="grid-layout basic">
                                    <div class="grid-layout-inner flex-nowrap">
                                        <div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-handler">드래그바</button></div>
                                        <div class="grid-layout-cell flex-1"><input type="text" name="out_text[]" placeholder="입력"></div>
                                        <div class="grid-layout-cell flex-1">
                                            <select name="out_price[]">
                                                <option value="">선택안함</option>
                                                <?php
                                                for ($pi = 0; $pi < 150001; $pi = $pi + 500) { // [change] 2019.01.08 : developlay - 50000으로 늘림
                                                    echo "<option value='" . $pi . "'";
                                                    if ($pi == $data["product_dog_common"][0]["dyeing_price"]) {
                                                        echo " selected";
                                                    }
                                                    echo ">" . $pi . "</option>";
                                                }
                                                ?>
                                            </select>
                                        </div>
                                        <div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-trash">휴지통</button></div>
                                    </div>
                                </div>
                            </div>
                        </div>
					</div>
					<div class="basic-data-group">
						<div class="con-title-group">
							<h4 class="con-title">기타</h4>
						</div>
						<div class="basic-data-group vvsmall2">
							<div class="grid-layout toggle-button-group">
								<div class="grid-layout-inner">
									<div class="grid-layout-cell grid-4"><label class="form-toggle-box middle"><input type="radio" name="etc" checked value="1" class="etc-btn" data-name="etc1"><em>다리</em></label></div>
									<div class="grid-layout-cell grid-4"><label class="form-toggle-box middle"><input type="radio" name="etc" value="2" class="etc-btn" data-name="etc2"><em>스파</em></label></div>
									<div class="grid-layout-cell grid-4"><label class="form-toggle-box middle"><input type="radio" name="etc" value="3" class="etc-btn" data-name="etc3"><em>염색</em></label></div>
									<div class="grid-layout-cell grid-4"><label class="form-toggle-box middle"><input type="radio" name="etc" value="4" class="etc-btn" data-name="etc4"><em>기타</em></label></div>
								</div>
							</div>
							<!-- 다리 -->
							<div class="basic-data-group vvsmall3 etc1 " style="display:block;">
								<div class="form-vertical-group ">
									<div class="form-vertical-header">
										<div class="grid-layout basic">
											<div class="grid-layout-inner flex-nowrap">
												<div class="grid-layout-cell flex-auto w-px-55"><div class="form-item-label"></div></div>
												<div class="grid-layout-cell flex-1"><div class="form-item-label">상품명</div></div>
												<div class="grid-layout-cell flex-1"><div class="form-item-label">가격(단위:원)</div></div>
												<div class="grid-layout-cell flex-auto w-px-55"><div class="form-item-label">삭제</div></div>
											</div>
										</div>
									</div>
									<div class="form-vertical-body drag-sort-wrap leg">
										<div class="form-vertical-cell">
											<div class="grid-layout basic">
												<div class="grid-layout-inner flex-nowrap">
													<div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-handler">드래그바</button></div>
													<div class="grid-layout-cell flex-1"><input type="text" value="발톱" disabled placeholder="입력"></div>
													<div class="grid-layout-cell flex-1">
                                                        <select name="p_toenail_price" id="p_toenail_price">
                                                            <option value="">선택안함</option>
                                                            <?php
                                                            for ($pi = 0; $pi < 150001; $pi = $pi + 500) { // [change] 2019.01.08 : developlay - 50000으로 늘림
                                                                echo "<option value='" . $pi . "'";
                                                                if ($pi == $data["product_dog_common"][0]["toenail_price"] && !empty($data["product_dog_common"][0]["toenail_price"])) {
                                                                    echo " selected";
                                                                }
                                                                echo ">" . $pi . "</option>";
                                                            }
                                                            ?>
                                                        </select>
													</div>
													<div class="grid-layout-cell flex-auto w-px-55"></div>
												</div>
											</div>
										</div>
										<div class="form-vertical-cell">
											<div class="grid-layout basic">
												<div class="grid-layout-inner flex-nowrap">
													<div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-handler">드래그바</button></div>
													<div class="grid-layout-cell flex-1"><input type="text" value="장화" disabled placeholder="입력"></div>
													<div class="grid-layout-cell flex-1">
                                                        <select name="p_trumpet_etc_price" id="p_trumpet_etc_price">
                                                            <option value="">선택안함</option>
                                                            <?php
                                                            for ($pi = 0; $pi < 150001; $pi = $pi + 500) { // [change] 2019.01.08 : developlay - 50000으로 늘림
                                                                echo "<option value='" . $pi . "'";
                                                                if ($pi == $data["product_dog_common"][0]["trumpet_etc_price"] && !empty($data["product_dog_common"][0]["trumpet_etc_price"])) {
                                                                    echo " selected";
                                                                }
                                                                echo ">" . $pi . "</option>";
                                                            }
                                                            ?>
                                                        </select>
													</div>
													<div class="grid-layout-cell flex-auto w-px-55"></div>
												</div>
											</div>
										</div>
										<div class="form-vertical-cell">
											<div class="grid-layout basic">
												<div class="grid-layout-inner flex-nowrap">
													<div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-handler">드래그바</button></div>
													<div class="grid-layout-cell flex-1"><input type="text" value="방울" disabled placeholder="입력"></div>
													<div class="grid-layout-cell flex-1">
                                                        <select name="p_bell_price" id="p_bell_price">
                                                            <option value="">선택안함</option>
                                                            <?php
                                                            for ($pi = 0; $pi < 150001; $pi = $pi + 500) { // [change] 2019.01.08 : developlay - 50000으로 늘림
                                                                echo "<option value='" . $pi . "'";
                                                                if ($pi == $data["product_dog_common"][0]["bell_price"] && !empty($data["product_dog_common"][0]["bell_price"])) {
                                                                    echo " selected";
                                                                }
                                                                echo ">" . $pi . "</option>";
                                                            }
                                                            ?>
                                                        </select>
													</div>
													<div class="grid-layout-cell flex-auto w-px-55"></div>
												</div>
											</div>
										</div>
                                        <?php
                                        $tmp = explode(",",$data["product_dog_common"][0]['addition_option_product']);
                                        for($a=0;$a<count($tmp);$a++){
                                        $etc1_tmp = explode(":",$tmp[$a]);
                                        $etc1['text'][] = $etc1_tmp[0];
                                        $etc1['price'][] = $etc1_tmp[1];
                                        ?>
                                            <div class="form-vertical-cell">
                                                <div class="grid-layout basic">
                                                    <div class="grid-layout-inner flex-nowrap">
                                                        <div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-handler">드래그바</button></div>
                                                        <div class="grid-layout-cell flex-1"><input type="text" name="etc_leg_text[]" value="<?php echo $etc1['text'][$a];?>" placeholder="입력"></div>
                                                        <div class="grid-layout-cell flex-1">
                                                            <select name="etc_leg_price[]">
                                                                <option value="">선택안함</option>
                                                                <?php
                                                                for ($pi = 0; $pi < 150001; $pi = $pi + 500) { // [change] 2019.01.08 : developlay - 50000으로 늘림
                                                                    echo "<option value='" . $pi . "'";
                                                                    if ($pi == $etc1['price'][$a] && !empty($etc1['price'][$a])) {
                                                                        echo " selected";
                                                                    }
                                                                    echo ">" . $pi . "</option>";
                                                                }
                                                                ?>
                                                            </select>
                                                        </div>
                                                        <div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-trash">휴지통</button></div>
                                                    </div>
                                                </div>
                                            </div>
                                        <?php } ?>
									</div>
								</div>
                                <div id="etc_leg" style="display:none">
                                    <!-- 추가 타입 -->
                                    <div class="form-vertical-cell">
                                        <div class="grid-layout basic">
                                            <div class="grid-layout-inner flex-nowrap">
                                                <div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-handler">드래그바</button></div>
                                                <div class="grid-layout-cell flex-1"><input type="text" name="etc_leg_text[]" placeholder="입력"></div>
                                                <div class="grid-layout-cell flex-1">
                                                    <select name="etc_leg_price[]">
                                                        <option value="">선택안함</option>
                                                        <?php
                                                        for ($pi = 0; $pi < 150001; $pi = $pi + 500) { // [change] 2019.01.08 : developlay - 50000으로 늘림
                                                            echo "<option value='" . $pi . "'";
                                                            if ($data["product_dog_common"][0]["bell_price"] != "" ) {
                                                                echo " selected";
                                                            }
                                                            echo ">" . $pi . "</option>";
                                                        }
                                                        ?>
                                                    </select>
                                                </div>
                                                <div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-trash">휴지통</button></div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- //추가 타입 -->
                                </div>
							</div>
							<!-- //다리 -->
							<!-- 스파 -->
							<div class="basic-data-group vvsmall3 etc2" style="display:none;">
                                <div class="form-vertical-header">
                                    <div class="grid-layout basic">
                                        <div class="grid-layout-inner flex-nowrap">
                                            <div class="grid-layout-cell flex-auto w-px-55"><div class="form-item-label"></div></div>
                                            <div class="grid-layout-cell flex-1"><div class="form-item-label">상품명</div></div>
                                            <div class="grid-layout-cell flex-1"><div class="form-item-label">가격(단위:원)</div></div>
                                            <div class="grid-layout-cell flex-auto w-px-55"><div class="form-item-label">삭제</div></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-vertical-body drag-sort-wrap spa-cell">
                                    <!-- 추가 타입 -->
                                    <?php
                                    unset($tmp);
                                    unset($etc1_tmp);
                                    unset($etc1);
                                    $tmp = explode(",",$data["product_dog_common"][0]['spa_option_product']);
                                    for($a=0;$a<count($tmp);$a++){
                                    $etc1_tmp = explode(":",$tmp[$a]);
                                    $etc1['text'][] = $etc1_tmp[0];
                                    $etc1['price'][] = $etc1_tmp[1];
                                    ?>
                                    <div class="form-vertical-cell">
                                        <div class="grid-layout basic">
                                            <div class="grid-layout-inner flex-nowrap">
                                                <div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-handler">드래그바</button></div>
                                                <div class="grid-layout-cell flex-1"><input type="text" name="spa_text[]" value="<?php echo $etc1['text'][$a];?>" placeholder="입력"></div>
                                                <div class="grid-layout-cell flex-1">
                                                    <select name="spa_price[]">
                                                        <option value="">선택안함</option>
                                                        <?php
                                                        for ($pi = 0; $pi < 150001; $pi = $pi + 500) { // [change] 2019.01.08 : developlay - 50000으로 늘림
                                                            echo "<option value='" . $pi . "'";
                                                            if ($pi == $etc1['price'][$a] && !empty($etc1['price'][$a])) {
                                                                echo " selected";
                                                            }
                                                            echo ">" . $pi . "</option>";
                                                        }
                                                        ?>
                                                    </select>
                                                </div>
                                                <div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-trash">휴지통</button></div>
                                            </div>
                                        </div>
                                    </div>
                                    <?php } ?>
                                    <!-- //추가 타입 -->
                                </div>
							</div>
                            <div id="spa_add" style="display: none">
                                <div class="form-vertical-cell">
                                    <div class="grid-layout basic">
                                        <div class="grid-layout-inner flex-nowrap">
                                            <div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-handler">드래그바</button></div>
                                            <div class="grid-layout-cell flex-1"><input type="text" name="spa_text[]" placeholder="입력"></div>
                                            <div class="grid-layout-cell flex-1">
                                                <select name="spa_price[]">
                                                    <option value="">선택안함</option>
                                                    <?php
                                                    for ($pi = 0; $pi < 150001; $pi = $pi + 500) { // [change] 2019.01.08 : developlay - 50000으로 늘림
                                                        echo "<option value='" . $pi . "'";
                                                        if ($data["product_dog_common"][0]["dyeing_price"]) {
                                                            //echo " selected";
                                                        }
                                                        echo ">" . $pi . "</option>";
                                                    }
                                                    ?>
                                                </select>
                                            </div>
                                            <div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-trash">휴지통</button></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
							<!-- //스파 -->
							<!-- 염색 -->
							<div class="basic-data-group vvsmall3 etc3 " style="display:none;">
                                <div class="form-vertical-header">
                                    <div class="grid-layout basic">
                                        <div class="grid-layout-inner flex-nowrap">
                                            <div class="grid-layout-cell flex-auto w-px-55"><div class="form-item-label"></div></div>
                                            <div class="grid-layout-cell flex-1"><div class="form-item-label">상품명</div></div>
                                            <div class="grid-layout-cell flex-1"><div class="form-item-label">가격(단위:원)</div></div>
                                            <div class="grid-layout-cell flex-auto w-px-55"><div class="form-item-label">삭제</div></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-vertical-body drag-sort-wrap color-cell">
                                    <!-- 추가 타입 -->
                                    <?php
                                    unset($tmp);
                                    unset($etc1_tmp);
                                    unset($etc1);
                                    $tmp = explode(",",$data["product_dog_common"][0]['dyeing_option_product']);
                                    for($a=0;$a<count($tmp);$a++){
                                        $etc1_tmp = explode(":",$tmp[$a]);
                                        $etc1['text'][] = $etc1_tmp[0];
                                        $etc1['price'][] = $etc1_tmp[1];
                                        ?>
                                        <div class="form-vertical-cell">
                                            <div class="grid-layout basic">
                                                <div class="grid-layout-inner flex-nowrap">
                                                    <div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-handler">드래그바</button></div>
                                                    <div class="grid-layout-cell flex-1"><input type="text" name="color_text[]" value="<?php echo $etc1['text'][$a];?>" placeholder="입력"></div>
                                                    <div class="grid-layout-cell flex-1">
                                                        <select name="color_price[]">
                                                            <option value="">선택안함</option>
                                                            <?php
                                                            for ($pi = 0; $pi < 150001; $pi = $pi + 500) { // [change] 2019.01.08 : developlay - 50000으로 늘림
                                                                echo "<option value='" . $pi . "'";
                                                                if ($pi == $etc1['price'][$a] && !empty($etc1['price'][$a])) {
                                                                    echo " selected";
                                                                }
                                                                echo ">" . $pi . "</option>";
                                                            }
                                                            ?>
                                                        </select>
                                                    </div>
                                                    <div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-trash">휴지통</button></div>
                                                </div>
                                            </div>
                                        </div>
                                    <?php } ?>
                                    <!-- //추가 타입 -->
                                </div>
							</div>
                            <div id="color_add" style="display:none">
                                <div class="form-vertical-cell">
                                    <div class="grid-layout basic">
                                        <div class="grid-layout-inner flex-nowrap">
                                            <div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-handler">드래그바</button></div>
                                            <div class="grid-layout-cell flex-1"><input type="text" name="color_text[]" placeholder="입력"></div>
                                            <div class="grid-layout-cell flex-1">
                                                <select name="color_price[]">
                                                    <option value="" <?= ($data["product_dog_common"][0]["dyeing_price"] == "" || $data["product_dog_common"][0]["dyeing_price"] == null) ? "selected" : "" ?>>선택안함</option>
                                                    <?php
                                                    for ($pi = 0; $pi < 150001; $pi = $pi + 500) { // [change] 2019.01.08 : developlay - 50000으로 늘림
                                                        echo "<option value='" . $pi . "'";
                                                        if ($data["product_dog_common"][0]["dyeing_price"] != "" ) {
                                                            //echo " selected";
                                                        }
                                                        echo ">" . $pi . "</option>";
                                                    }
                                                    ?>
                                                </select>
                                            </div>
                                            <div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-trash">휴지통</button></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
							<!-- //염색 -->
							<!-- 기타 -->
							<div class="basic-data-group vvsmall3 etc4" style="display:none;">
                                <div class="form-vertical-header">
                                    <div class="grid-layout basic">
                                        <div class="grid-layout-inner flex-nowrap">
                                            <div class="grid-layout-cell flex-auto w-px-55"><div class="form-item-label"></div></div>
                                            <div class="grid-layout-cell flex-1"><div class="form-item-label">상품명</div></div>
                                            <div class="grid-layout-cell flex-1"><div class="form-item-label">가격(단위:원)</div></div>
                                            <div class="grid-layout-cell flex-auto w-px-55"><div class="form-item-label">삭제</div></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-vertical-body drag-sort-wrap etc-cell">
                                    <!-- 추가 타입 -->
                                    <?php
                                    unset($tmp);
                                    unset($etc1_tmp);
                                    unset($etc1);
                                    $tmp = explode(",",$data["product_dog_common"][0]['etc_option_product']);
                                    for($a=0;$a<count($tmp);$a++){
                                        $etc1_tmp = explode(":",$tmp[$a]);
                                        $etc1['text'][] = $etc1_tmp[0];
                                        $etc1['price'][] = $etc1_tmp[1];
                                        ?>
                                        <div class="form-vertical-cell">
                                            <div class="grid-layout basic">
                                                <div class="grid-layout-inner flex-nowrap">
                                                    <div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-handler">드래그바</button></div>
                                                    <div class="grid-layout-cell flex-1"><input type="text" name="etc_text[]" value="<?php echo $etc1['text'][$a];?>" placeholder="입력"></div>
                                                    <div class="grid-layout-cell flex-1">
                                                        <select name="etc_price[]">
                                                            <option value="">선택안함</option>
                                                            <?php
                                                            for ($pi = 0; $pi < 150001; $pi = $pi + 500) { // [change] 2019.01.08 : developlay - 50000으로 늘림
                                                                echo "<option value='" . $pi . "'";
                                                                if ($pi == $etc1['price'][$a] && !empty($etc1['price'][$a])) {
                                                                    echo " selected";
                                                                }
                                                                echo ">" . $pi . "</option>";
                                                            }
                                                            ?>
                                                        </select>
                                                    </div>
                                                    <div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-trash">휴지통</button></div>
                                                </div>
                                            </div>
                                        </div>
                                    <?php } ?>
                                    <!-- //추가 타입 -->
                                </div>
							</div>
                            <div id="etc_add" style="display:none">
                                <div class="form-vertical-cell">
                                    <div class="grid-layout basic">
                                        <div class="grid-layout-inner flex-nowrap">
                                            <div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-handler">드래그바</button></div>
                                            <div class="grid-layout-cell flex-1"><input type="text" name="etc_text[]" placeholder="입력"></div>
                                            <div class="grid-layout-cell flex-1">
                                                <select name="etc_price[]">
                                                    <option value="">선택안함</option>
                                                    <?php
                                                    for ($pi = 0; $pi < 150001; $pi = $pi + 500) { // [change] 2019.01.08 : developlay - 50000으로 늘림
                                                        echo "<option value='" . $pi . "'";
                                                        if ($data["product_dog_common"][0]["dyeing_price"] != "") {
                                                            echo " selected";
                                                        }
                                                        echo ">" . $pi . "</option>";
                                                    }
                                                    ?>
                                                </select>
                                            </div>
                                            <div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-trash">휴지통</button></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
							<!-- //기타 -->
						</div>
						<div class="btn-basic-action">
							<button type="button" class="btn btn-outline-purple btn-middle-size btn-round btn-etc-add">추가하기</button>
						</div>
						<div class="form-bottom-info">*기타 탭의 상품은 견주예약과정에서 보이지 않습니다.<br>*추가되는 비용(다듬기 정도, 사나움 정도, 등)을 등록하여 예약관리에 활용하시면 좋습니다.</div>
					</div>
					<div class="basic-data-group">
                        <div class="form-group-cell">
                            <div class="form-group-item">
                                <div class="form-item-label">추가설명</div>
                                <div class="form-item-data">
                                    <textarea name="add_comment" id="add_comment" class="form-control"><?php echo $data['product_dog_common'][0]['add_comment']; ?></textarea>
                                </div>
                            </div>
                        </div>
						<!--<div class="form-group middle">
							<div class="form-group-cell middle">
								<div class="form-group-item">
									<div class="form-item-label">추가설명</div>
									<div class="form-item-data">
										<input type="text" name="add_comment" value="<?php /*echo nl2br($data['product_dog_common'][0]['add_comment']);*/?>" class="form-control" placeholder="입력">
										<div class="form-input-info">0/1000</div>
									</div>
								</div>
							</div>
						</div>-->
					</div>
				</div> 
			</div>
		</div>
		<!-- //set-option-add -->  
	</div>
	<!-- //page-body -->	
	<!-- page-bottom -->
    </form>
	<div class="page-bottom">
		<!-- 
		//	비활성화시 
		// - a태그는 disabled 클래스 추가
		// - button 태그는 disabled 속성 추가
		-->
		<a href="javascript:;" class="btn-page-bottom btn-save">저장하기</a>
	</div>

	<!-- //page-bottom -->
</section>
<!-- //container -->
<script src="/static/pub/js/Sortable.min.js"></script>
<script>
$(function(){
	//https://github.com/SortableJS/Sortable

    //저장시
    $(document).on('click','.btn-save',function(){
        document.f.submit();
    });
    
	$('.drag-sort-wrap').each(function(){
		var sortable = Sortable.create($(this)[0] , {
			delay : 0,
			ghostClass: 'guide',
			draggable : '.form-vertical-cell',
			handle : '.btn-data-handler',
			onStart : function(evt){
				//드래그 시작 
				console.log('drag start');
			},
			onEnd : function(evt){
				//드래그 끝
				console.log('drag end');
				//evt.to;    // 현재 아이템
				//evt.from;  // 이전 아이템
				//evt.oldIndex;  // 이전 인덱스값
				//evt.newIndex;  // 새로운 인덱스값
			},
			onUpdate : function(evt){
				console.log('update');
			},
			onUpdate : function(evt){
				console.log('onChange');
			},
			onRemove: function (/**Event*/evt) {
				console.log('remove');
			}
			
		});
	});

	$(document).on('click' , '.btn-data-trash' , function(){
		$(this).parents('.form-vertical-cell').remove();
	});

    //얼글 디자인컷 추가
    $(document).on('click','.beauty-area-add',function(){
        var bt_div = $('#hair_length .face-cell').clone();
        $('.hair-add-div-start').append(bt_div);
    });

    //털특징 추가
    $(document).on('click','.btn-double-add',function(){
        var bt_div = $('#double_add .double-cell').clone();
        $('.double-hair-start').append(bt_div);
    });

    
    //기타 탭 선택시
    $(document).on('click','.etc-btn',function(){
       var dt = $(this).data('name');
       $('.etc1, .etc2, .etc3, .etc4').css('display','none');
       $('.'+dt).css('display','block')
    });

    //현장판단 후 추가결제
    $(document).on('click','.save-out-btn',function(){
        var bt_div = $('#out_add .out-cell').clone();
        $('.out-add').append(bt_div);
    });

    //기타 다리 추가시시
    $(document).on('click','.btn-etc-add',function(){
        var what_chk = '';
        $('input[name="etc"]').each(function(){
            if($(this).is(':checked')==true){
                what_chk = $(this).data('name');
            }
        });

        console.log(what_chk)
        if(what_chk == 'etc1') {
            var bt_div = $('#etc_leg .form-vertical-cell').clone();
            console.log(bt_div)
            $('.leg').append(bt_div);
        } else if(what_chk == 'etc2') {
            var bt_div = $('#spa_add .form-vertical-cell').clone();
            console.log(bt_div)
            $('.spa-cell').append(bt_div);
        } else if(what_chk == 'etc3') {
            var bt_div = $('#color_add .form-vertical-cell').clone();
            console.log(bt_div)
            $('.color-cell').append(bt_div);
        } else if(what_chk == 'etc4') {
            var bt_div = $('#etc_add .form-vertical-cell').clone();
            console.log(bt_div)
            $('.etc-cell').append(bt_div);
        }
    });
});

function sampleAdd(){
	var _html = "";
	_html += '<div class="form-vertical-cell">';
	_html += '	<div class="grid-layout basic">';
	_html += '		<div class="grid-layout-inner flex-nowrap">';
	_html += '			<div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-handler">드래그바</button></div>';
	_html += '			<div class="grid-layout-cell flex-1"><input type="text" name="face_add[]" placeholder="입력"></div>';
	_html += '			<div class="grid-layout-cell flex-1">';
	_html += '				<select name="p_fave_price[]">';
	<?php for ($pi = 0; $pi < 150001; $pi = $pi + 500) { ?>
	_html += '					<option value="<?php echo $pi;?>"><?php echo $pi;?></option>';
	<?php } ?>
	_html += '				</select>';
	_html += '			</div>';
	_html += '			<div class="grid-layout-cell flex-auto w-px-55"><button type="button" class="btn-data-trash">휴지통</button></div>';
	_html += '		</div>';
	_html += '	</div>';
	_html += '</div>';

	$('#sample1').append(_html);

};
</script>
<?
//include($_SERVER['DOCUMENT_ROOT']."/include/skin/footer_shop.php");
?>