<?
include($_SERVER['DOCUMENT_ROOT']."/include/global.php");

$artist_flag = (isset($_SESSION['artist_flag'])) ? $_SESSION['artist_flag'] : "";

if ($artist_flag === true) {
    $artist_id = (isset($_SESSION['shop_user_id'])) ? $_SESSION['shop_user_id'] : "";
    $user_id = (isset($_SESSION['shop_user_id'])) ? $_SESSION['shop_user_id'] : "";
    $user_name = (isset($_SESSION['shop_user_nickname'])) ? $_SESSION['shop_user_nickname'] : "";
} else {
    $artist_id = (isset($_SESSION['gobeauty_user_id'])) ? $_SESSION['gobeauty_user_id'] : "";
    $user_id = (isset($_SESSION['gobeauty_user_id'])) ? $_SESSION['gobeauty_user_id'] : "";
    $user_name = (isset($_SESSION['gobeauty_user_nickname'])) ? $_SESSION['gobeauty_user_nickname'] : "";
}







$shop_title	= "상품관리";
include($_SERVER['DOCUMENT_ROOT']."/include/skin/header_shop.php");
include($_SERVER['DOCUMENT_ROOT']."/include/check_login_shop.php");




?>

<!-- container -->
<section id="container"> 
	<!-- page-body -->    
	<div class="page-body">
		<!-- set-hotel-management -->  
		<div class="set-hotel-management">
			<div class="page-tab-group">
				<div class="page-tab">
					<div class="page-tab-inner">
						<!-- 활성화시 actived클래스 추가 -->
						<div class="tab-cell"><a href="set_beauty_management" class="btn-tab-item"><span>미용</span></a></div>
						<div class="tab-cell actived"><a href="set_hotel_shop" class="btn-tab-item"><span>호텔</span></a></div>
					</div>
				</div>
				<!-- actived클래스 추가시 활성화 -->
				<button type="button" class="btn btn-outline-gray btn-round btn-inline btn-surtax-set actived"><div class="icon"></div>부가세 설정</button>
			</div>
			<div class="basic-data-group vsmall">
				<div class="con-title-group">
					<h4 class="con-title">상품구분</h4>
				</div>
				<div class="wide-tab">
					<div class="wide-tab-inner">
						<!-- 활성화시 actived클래스 추가 -->
						<div class="tab-cell actived"><button type="button" class="btn-tab-item">호텔상품</button></div>
						<div class="tab-cell"><button type="button" class="btn-tab-item">매장상품</button></div>
					</div>
				</div>
				<div class="basic-data-group middle">
					<!-- 내용이 없을 경우 -->
					<div class="btn-group vertical">
						<div class="btn-group-cell"><button type="button" class="btn btn-purple btn-middle-size btn-round" style="cursor:pointer;" onclick="location.href='/set_hotel_shop_add'">호텔상품 등록하기</button></div>
					</div>
					<div class="common-none-data display_none" id="hotel_product_none_data">
						<div class="none-inner">
							<div class="item-visual"><img src="/static/pub/images/icon/img-illust-3@2x.png" alt="" width="103"></div>
							<div class="item-info">등록된 상품이 없습니다.</div>
							<div class="item-btns"><button type="button" class="btn btn-purple btn-middle-size btn-round">호텔상품 등록하기</button></div>
						</div>
					</div>
					<!-- //내용이 없을 경우 -->
					<!-- 내용이 있을을 경우 -->
					<div class="basic-data-group middle">
						<div class="wide-tab card">
							<div class="wide-tab-inner" id="wide-tab-inner">
								<!-- 활성화시 actived클래스 추가 -->
								<div class="tab-cell actived" id="dog_tab"><a href="#" class="btn-tab-item">강아지</a></div>
								<div class="tab-cell" id="cat_tab"><a href="#" class="btn-tab-item">고양이</a></div>
							</div>
						</div>
						<div class="tab-data-group basic-data-group vvsmall2">
							<!-- actived클래스 추가시 활성화 -->
							<!-- 강아지 -->
							<div class="tab-data-cell actived" >
								<!-- 내용이 없을 경우 -->
								<div class="common-none-data" id="hotel_dog_product_none_data">
									<div class="none-inner">
										<div class="item-visual"><img src="/static/pub/images/icon/img-illust-3@2x.png" alt="" width="103"></div>
										<div class="item-info">등록된 상품이 없습니다.</div>
									</div>
								</div>
								<!-- //내용이 없을 경우 -->
								<!-- 내용이 있을 경우 -->
								<!-- accordion-cell 클래스에 기본으로 actived클래스를 추가하여 활성화된 상태로 처음에 표현 -->
								<ul class="accordion-list first-none-line" >
									<li class="accordion-cell actived" id="hotel_product_wrap">
										<button type="button" class="btn-accordion-menu" data-type="dog" id="btn_accordion_menu">
											<span class="accordion-menu-subject">호텔요금표</span>
										</button>
										<div class="accordion-content"  id="hotel_dog_wrap" >
											<div class="read-table">
												<table>
													<colgroup id="hotel_dog_colgroup">
														<col style="width:auto;">
													</colgroup>
													<thead>
														<tr id="hotel_dog_room_list">
															<th>무게</th>
														</tr>
													</thead>
													<tbody id="hotel_dog_product_tbody">

													</tbody>
												</table>
											</div>
											<div class="read-table-info">(단위:천원)</div>
										</div>
                                        <div class="accordion-content" style="display:none;" id="hotel_cat_wrap">
                                            <div class="read-table">
                                                <table>
                                                    <colgroup id="hotel_cat_colgroup">
                                                        <col style="width:auto;">
                                                    </colgroup>
                                                    <thead>
                                                    <tr id="hotel_cat_room_list">
                                                        <th>무게</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody id="hotel_cat_product_tbody">

                                                    </tbody>
                                                </table>
                                            </div>
                                            <div class="read-table-info">(단위:천원)</div>
                                        </div>
                                    </li>
									<li class="accordion-cell actived">			
										<button type="button" class="btn-accordion-menu">
											<span class="accordion-menu-subject">쿠폰(횟수)상품</span>
										</button>
										<div class="accordion-content">
											<div class="read-table">
												<table>
													<colgroup>
														<col style="width:auto;">
													</colgroup>
													<thead>
														<tr>
															<th><strong>상품명</strong></th>
															<th>이용횟수</th>
															<th>가격(단위:원)</th>
														</tr>
													</thead>
													<tbody id="hotel_coupon_C_product_tbody">

													</tbody>
												</table>
											</div>
										</div>			
									</li>   
									<li class="accordion-cell actived">			
										<button type="button" class="btn-accordion-menu">
											<span class="accordion-menu-subject">정액 적립 상품</span>
										</button>
										<div class="accordion-content">
											<div class="read-table">
												<table>
													<colgroup>
														<col style="width:auto;">
													</colgroup>
													<thead>
														<tr>
															<th><strong>상품명</strong></th>
															<th>가격(단위:원)</th>
															<th>실 적립금</th>
														</tr>
													</thead>
													<tbody id="hotel_coupon_F_product_tbody">

													</tbody>
												</table>
											</div>
											<div class="form-bottom-info">
                                                <span id="hotel_info_neutral" class="hotel-info">- 중성화 안된 경우 추가요금 :<span id="hotel_info_neutral_price"></span>원</span>
                                                <span class="hotel-info" id="hotel_info_pickup_1">- 픽업서비스를 제공 함</span>
                                                <span class="hotel-info" id="hotel_info_pickup_2">- 픽업서비스를 제공 안함</span>
                                                <span class="">- 체크인/아웃 시간:<span id="hotel_info_check"></span><br>
                                                (이 시간 외 체크인/아웃은 추가요금 발생할 수 있음)
                                                </span>
                                            </div>
<!--											<div class="basic-data-group vmiddle">-->
<!--												<div class="memo-item large">-->
<!--													<div class="memo-item-title">상품별 안내사항</div>-->
<!--													<div class="memo-item-txt">프론트 샵페이지 상품하단에 위치하는 안내입니다.</div>-->
<!--												</div>-->
<!--											</div>-->
											<div class="btn-basic-action">
												<div class="grid-layout btn-grid-group">
													<div class="grid-layout-inner">
														<div class="grid-layout-cell grid-2"><button type="button" class="btn btn-outline-purple btn-middle-size btn-round">수정하기</button></div>
														<div class="grid-layout-cell grid-2"><button type="button" class="btn btn-outline-purple btn-middle-size btn-round">삭제하기</button></div>
													</div>
												</div>												
											</div>
										</div>			
									</li>    
								</ul>
								<!-- //내용이 있을 경우 -->
							</div>
							<!-- //강아지 -->
							<!-- 고양이 -->
							<div class="tab-data-cell">
								<!-- 내용이 없을 경우 -->
								<div class="common-none-data display_none" id="hotel_cat_product_none_data">
									<div class="none-inner">
										<div class="item-visual"><img src="/static/pub/images/icon/img-illust-3@2x.png" alt="" width="103"></div>
										<div class="item-info">등록된 상품이 없습니다.</div>
									</div>
								</div>
								<!-- //내용이 없을 경우 -->
								<!-- 내용이 있을 경우 -->
								<!-- //내용이 있을 경우 -->
							</div>
							<!-- //고양이 -->
						</div>
						<div class="basic-data-group">
							<div class="con-title-group">
								<h4 class="con-title">안내사항</h4>
							</div>
							<div class="form-group middle">
								<div class="form-group-cell middle">
									<div class="form-group-item">
										<div class="form-item-label">공통 안내</div>
										<div class="form-item-data">
											<input type="text" class="form-control" id="hotel_common_notice" max-length="1000" placeholder="입력"/>
                                            <div class="form-input-info"><span id="hotel_common_notice_length"></span>/1000</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="basic-data-group vvsmall3">
						<div class="grid-layout btn-grid-group">
							<div class="grid-layout-inner">
								<div class="grid-layout-cell grid-2"><a href="#" class="btn btn-outline-purple btn-middle-size btn-round">저장</a></div>
								<div class="grid-layout-cell grid-2" id="hotel_product_delete_all"><a href="#" class="btn btn-outline-gray btn-middle-size btn-round" >삭제</a></div>
							</div>
						</div>
					</div>
					<!-- //내용이 있을을 경우 -->
				</div>
			</div>			
		</div>
		<!-- //set-hotel-management -->  
	</div>
	<!-- //page-body -->	
</section>
<!-- //container -->

    <article id="hotelProductDeleteAll" class="layer-pop-wrap">
        <div class="layer-pop-parent">
            <div class="layer-pop-children">
                <div class="pop-data alert-pop-data">
                    <div class="pop-body">
                        <div class="msg-txt">호텔 상품 전체가 삭제됩니다.<br>삭제하시겠습니까?</div>
                    </div>
                    <div class="pop-footer">
                        <button type="button" class="btn btn-confirm" id="hotel_product_delete_btn" data-type="dog" onclick="hotel_product_delete_all(artist_id,this)">확인</button>
                        <button type="button" class="btn btn-confirm" onclick="pop.close2('hotelProductDeleteAll')">취소</button>
                    </div>
                </div>
            </div>
        </div>
    </article>




<script src="/static/pub/js/hotel.js"></script>
<script>


    const artist_id = '<?=$artist_id?>'

    get_hotel_info(artist_id);
    get_hotel_product(artist_id).then(function(data){


        get_hotel_product_dog(data);
        get_hotel_product_cat(data);
    });
    get_hotel_coupon(artist_id);

    wide_tab_set_hotel();

    $('#btn_accordion_menu').on('click',function(){

        console.log($(this).attr('data-type'));

        if($(this).attr('data-type') === 'cat'){

            if($('#hotel_cat_wrap').css('display') === 'block'){
                $('#hotel_cat_wrap').hide();
            }else{
                $('#hotel_cat_wrap').show();
            }
        }else if($(this).attr('data-type') === 'dog'){

            if($('#hotel_dog_wrap').css('display') === 'block'){
                $('#hotel_dog_wrap').hide();
            }else{
                $('#hotel_dog_wrap').show();
            }
        }
    })
</script>

<?
include($_SERVER['DOCUMENT_ROOT']."/include/skin/footer_shop.php");
?>